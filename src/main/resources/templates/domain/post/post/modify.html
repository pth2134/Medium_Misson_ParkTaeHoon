<html layout:decorate="~{global/usrLayout}">

<head>
    <title>글 수정</title>
</head>

<body>
<div layout:fragment="content">
    <h1>글 수정</h1>

    <script>
        function submitPostForm(form) {
            form.title.value = form.title.value.trim();
            form.content.value = form.content.value.trim();

            if (form.title.value.length == 0) {
                toastWarning('제목을 작성해주세요.');
                form.title.focus();
                return;
            }

            if (form.content.value.length == 0) {
                toastWarning('내용을 작성해주세요.');
                form.content.focus();
                return;
            }

            toastr.success('글수정이 완료되었습니다.');
            form.submit();
        }
    </script>
    <form th:action method="POST" onsubmit="submitPostForm(this); return false;">
        <div>
            <label>제목</label><br>
            <input type="text" name="title" th:value="${post.title}" style="width: 500px;"/>
        </div>
        <div>
            <label>내용</label><br>
            <textarea name="content" th:text="${post.content}" style="width: 500px; height: 200px;"></textarea>
        </div>
        <div>
            <!-- 체크박스 필드 -->
            <input type="checkbox" th:checked="${post.isPublished}" name="isPublished" value="true"/>
            <!-- 숨겨진 필드를 체크박스 앞에 추가합니다. 체크박스가 체크되지 않았을 때 이 값이 전송됩니다. -->
            <input type="hidden" name="isPublished" value="false"/>
            <span>이 글을 공개하기</span>
        </div>
        <button type="submit">수정</button>
    </form>
</div>

</body>
</html>